<!-- Watchlist -->

<div id="watchlist-div" class="col s12">
  <h2>Watchlist</h2>

  <p>Watch your favorite projects here!</p>

  <table id="main-table" class="mdl-data-table bordered highlight" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Change (24h)</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <% watchlistData.forEach(function(wlData){ %>
      <tr id="<%= wlData.coin.ticker %>-wl-row">
        <td class="coin-name">
          <%= wlData.coin.name %>
        </td>
        <td id="<%= wlData.coin.ticker %>-wl-price">
          <% tickerData.forEach(function(coin){ %>
            <% if(coin.symbol === wlData.coin.ticker){ %>
              $<%= coin.price_usd %>
            <% } %>
          <% }); %>
        </td>

        <td class="mc-change 
          <% if(Math.sign(parseFloat(tickerData[tickerData.findIndex(function(e){return e.symbol===wlData.coin.ticker})].percent_change_24h)) === -1){ %>
            neg-change 
          <% } %>
        ">
          <% tickerData.forEach(function(coin){ %>
            <% if(coin.symbol === wlData.coin.ticker){ %>
              <%= coin.percent_change_24h %>%
            <% } %>
          <% }); %>
        </td>

        <td>
          <a href="/watchlist/<%= wlData.coin.ticker %>" class="watchlist-remove btn-floating btn waves-effect waves-light red"><i class="material-icons">clear</i></a>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>

</div>